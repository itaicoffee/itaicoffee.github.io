"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol?"symbol":typeof o},app={};app.helpers={},app.helpers.get_chronology=function(){var o={standard:_.range(11),reversed:_.range(10,-1,-1)};return function(e){return o[e]||o.standard}}(),app.helpers.nps={},app.helpers.nps.get_score_color=function(){var o={neutral:{0:"#FF5512",1:"#E65C13",2:"#E65C13",3:"#BF846F",4:"#9F7B74",5:"#868389",6:"#6D8A9F",7:"#518FB4",8:"#419FCF",9:"#10A1E4",10:"#08ABFF"},nps:{0:"#E53838",1:"#E53838",2:"#E53838",3:"#E53838",4:"#E53838",5:"#E53838",6:"#E53838",7:"#FAA918",8:"#FAA918",9:"#7AC70C",10:"#7AC70C"},neutral_reverse:{0:"#08ABFF",1:"#10A1E4",2:"#419FCF",3:"#518FB4",4:"#6D8A9F",5:"#868389",6:"#9F7B74",7:"#BF846F",8:"#E65C13",9:"#E65C13",10:"#FF5512"}};return function(e,n){var t=o[n]||o.neutral;return t[e]}}(),app.helpers.nps.score_to_status=function(o){var e=void 0;return e=7>o?"detractor":9>o?"passive":"promoter"},app.models={},app.constants={},app.constants.l10n={less_likely:"less likely",more_likely:"more likely",how_likely:"How likely are you to recommend Duolingo to a friend?"},app.components={},app.components.NPSControls={},app.components.NPSControls.controller=function(o){this.click_skip=o.click_skip,this.click_submit=o.click_submit,this.ready=o.ready},app.components.NPSControls.view=function(o,e){var n=o.ready();return m("div.npscontrols-wrapper",[m("button.btn-secondary.npscontrols-btn",{onclick:o.click_skip},"skip"),m("button.btn-primary.npscontrols-btn",{onclick:o.click_submit,disabled:!n},"submit")])},app.components.DoubleDeckNPSMeter={},app.components.DoubleDeckNPSMeter.controller=function(o){},app.components.DoubleDeckNPSMeter.view=function(o,e){var n=app.helpers.get_chronology(e.variant_data.chronology),t=function(o){var n=e.selected_score()===o,t=app.helpers.nps.get_score_color(o,e.variant_data.color_scheme);return m("div.nps-bubble",{onclick:_.bind(e.selected_score,_,o),style:{color:n?"#FFFFFF":t,borderColor:t,backgroundColor:n?t:""}},o)},r=m("div.nps-dd-first-row",[_.map(n.slice(0,6),t)]),i=m("div.nps-dd-second-row",[_.map(n.slice(6),t)]);return m("div",[r,i])},app.components.DoubleDeckNPS={},app.components.DoubleDeckNPS.controller=function(o){var e=this;this.title=m.prop(o.title),this.selected_score=o.selected_score||m.prop(),this.ready=function(){return void 0!==e.selected_score()},this.click_skip=o.click_skip,this.click_submit=o.click_submit},app.components.DoubleDeckNPS.view=function(o,e){var n=app.constants.l10n;return m("div",[m("div.nps-title",o.title()),m("div.doubledecknps-wrapper",[m("div.doubledecknps-meter",[m("div.doubledecknps-tag",n.less_likely.toUpperCase()),m("div.doubledecknps-meter-inner",[m.component(app.components.DoubleDeckNPSMeter,{selected_score:o.selected_score,variant_data:e.variant_data})]),m("div.doubledecknps-tag",n.more_likely.toUpperCase())])]),m("div.doubledecknps-controls",m.component(app.components.NPSControls,{click_skip:o.click_skip,click_submit:o.click_submit,ready:o.ready}))])},app.components.virtualizer={},app.components.virtualizer.controller=function(o){var e=this;this.selected_score=m.prop(),this.click_skip=function(){Android?Android.finish("payload"):console.log("Android not found")},this.click_submit=function(){if(!Android)return void console.log("Android global not found");var o=e.selected_score();app.helpers.nps.score_to_status(e.selected_score());Android.finishWithXp("payload with xp",o)}},app.components.virtualizer.view=function(o,e){var n=app.constants.l10n;return m("div",[m("p","Status: global Android is available: "+(void 0!==window.Android)),m("p","Status: global Android is available: "+window.Android),m("p","Status: global Android is available: "+_typeof(window.Android)),m("p","Status: global Android is available: "+window.Android.length),_.map(_.keys(window.Android),function(o){return m("p",o)}),m.component(app.components.DoubleDeckNPS,{title:n.how_likely,variant_data:{chronology:"standard",color_scheme:"neutral"},click_skip:o.click_skip,click_submit:o.click_submit,selected_score:o.selected_score})])},app.controller=function(o){},app.view=function(o,e){return m.component(app.components.virtualizer,{})},function(){m.mount(document.body,{controller:app.controller,view:app.view})}();